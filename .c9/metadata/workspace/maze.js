{"filter":false,"title":"maze.js","tooltip":"/maze.js","undoManager":{"mark":0,"position":0,"stack":[[{"group":"doc","deltas":[{"action":"removeLines","range":{"start":{"row":0,"column":0},"end":{"row":34,"column":0}},"nl":"\n","lines":["var loser = false;  // whether the user has hit a wall","","window.onload = function() {","    $(\"start\").onclick = startClick;","    $(\"end\").onmouseover = overEnd;","    var boundaries = $$(\"div#maze div.boundary\");","    for (var i = 0; i < boundaries.length; i++) {","        boundaries[i].onmouseover = overBoundary;","    }","};","","function overBoundary() {","    loser = true;","    $(\"status\").textContent = \"You lose!\";","    var boundaries = $$(\"div#maze div.boundary\");","    for (var i = 0; i < boundaries.length; i++) {","        boundaries[i].addClassName(\"youlose\");","    }","}","","function startClick() {","    loser = false;","    $(\"status\").textContent = \"Find the end!\";","    var boundaries = $$(\"div#maze div.boundary\");","    for (var i = 0; i < boundaries.length; i++) {","        boundaries[i].removeClassName(\"youlose\");","    }","}","","function overEnd() {","    if (!loser) {","        $(\"status\").textContent = \"You win! :]\";","    }","}"]},{"action":"insertText","range":{"start":{"row":0,"column":0},"end":{"row":0,"column":40}},"text":"// CSE 190 M, solution to Mouse Maze lab"},{"action":"insertText","range":{"start":{"row":0,"column":40},"end":{"row":1,"column":0}},"text":"\n"},{"action":"insertLines","range":{"start":{"row":1,"column":0},"end":{"row":53,"column":0}},"lines":["","var loser = null;  // whether the user has hit a wall","","window.onload = function() {","\t$(\"start\").onclick = startClick;","\t$(\"end\").onmouseover = overEnd;","\tvar boundaries = $$(\"div#maze div.boundary\");","\tfor (var i = 0; i < boundaries.length; i++) {","\t\tboundaries[i].onmouseover = overBoundary;","\t}","\tdocument.body.observe(\"mousemove\", overBody);   // haxor exercise","};","","// test for mouse being over document.body so that the player","// can't cheat by going outside the maze (haxor exercise)","function overBody(event) {","\tif (loser === false && event.element() == document.body) {","\t\toverBoundary(event);","\t}","}","","// called when mouse moves on top of one of the walls;","// signals the end of the game with a loss","function overBoundary(event) {","\tif (loser === false) {","\t\tloser = true;","\t\t$(\"status\").textContent = \"You lose!\";","\t\tvar boundaries = $$(\"div#maze div.boundary\");","\t\tfor (var i = 0; i < boundaries.length; i++) {","\t\t\tboundaries[i].addClassName(\"youlose\");","\t\t}","\t\tevent.stop();   // so the event won't reach document.body (haxor exercise)","\t}","}","","// called when mouse is clicked on Start (S) div;","// sets the maze back to its initial playable state","function startClick() {","\tloser = false;","\t$(\"status\").textContent = \"Find the end!\";","\tvar boundaries = $$(\"div#maze div.boundary\");","\tfor (var i = 0; i < boundaries.length; i++) {","\t\tboundaries[i].removeClassName(\"youlose\");","\t}","}","","// called when mouse is on top of the End (E) div.","// signals the end of the game with a win","function overEnd() {","\tif (loser === false) {","\t\t$(\"status\").textContent = \"You win! :]\";","\t}"]},{"action":"insertText","range":{"start":{"row":53,"column":0},"end":{"row":53,"column":1}},"text":"}"}]}]]},"ace":{"folds":[],"scrolltop":373,"scrollleft":0,"selection":{"start":{"row":39,"column":15},"end":{"row":39,"column":15},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1413241993361,"hash":"03a429faf27c1b14b436c939298a67e11bef1dae"}